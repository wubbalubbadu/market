{"ast":null,"code":"'use strict';\n\nconst getDiscriminatorByValue = require('./getDiscriminatorByValue');\n/*!\n * Find the correct constructor, taking into account discriminators\n */\n\n\nmodule.exports = function getConstructor(Constructor, value) {\n  const discriminatorKey = Constructor.schema.options.discriminatorKey;\n\n  if (value != null && Constructor.discriminators && value[discriminatorKey] != null) {\n    if (Constructor.discriminators[value[discriminatorKey]]) {\n      Constructor = Constructor.discriminators[value[discriminatorKey]];\n    } else {\n      const constructorByValue = getDiscriminatorByValue(Constructor, value[discriminatorKey]);\n\n      if (constructorByValue) {\n        Constructor = constructorByValue;\n      }\n    }\n  }\n\n  return Constructor;\n};","map":{"version":3,"names":["getDiscriminatorByValue","require","module","exports","getConstructor","Constructor","value","discriminatorKey","schema","options","discriminators","constructorByValue"],"sources":["/Users/juliachu/Dropbox/CS/market/node_modules/mongoose/lib/helpers/discriminator/getConstructor.js"],"sourcesContent":["'use strict';\n\nconst getDiscriminatorByValue = require('./getDiscriminatorByValue');\n\n/*!\n * Find the correct constructor, taking into account discriminators\n */\n\nmodule.exports = function getConstructor(Constructor, value) {\n  const discriminatorKey = Constructor.schema.options.discriminatorKey;\n  if (value != null &&\n      Constructor.discriminators &&\n      value[discriminatorKey] != null) {\n    if (Constructor.discriminators[value[discriminatorKey]]) {\n      Constructor = Constructor.discriminators[value[discriminatorKey]];\n    } else {\n      const constructorByValue = getDiscriminatorByValue(Constructor, value[discriminatorKey]);\n      if (constructorByValue) {\n        Constructor = constructorByValue;\n      }\n    }\n  }\n\n  return Constructor;\n};"],"mappings":"AAAA;;AAEA,MAAMA,uBAAuB,GAAGC,OAAO,CAAC,2BAAD,CAAvC;AAEA;AACA;AACA;;;AAEAC,MAAM,CAACC,OAAP,GAAiB,SAASC,cAAT,CAAwBC,WAAxB,EAAqCC,KAArC,EAA4C;EAC3D,MAAMC,gBAAgB,GAAGF,WAAW,CAACG,MAAZ,CAAmBC,OAAnB,CAA2BF,gBAApD;;EACA,IAAID,KAAK,IAAI,IAAT,IACAD,WAAW,CAACK,cADZ,IAEAJ,KAAK,CAACC,gBAAD,CAAL,IAA2B,IAF/B,EAEqC;IACnC,IAAIF,WAAW,CAACK,cAAZ,CAA2BJ,KAAK,CAACC,gBAAD,CAAhC,CAAJ,EAAyD;MACvDF,WAAW,GAAGA,WAAW,CAACK,cAAZ,CAA2BJ,KAAK,CAACC,gBAAD,CAAhC,CAAd;IACD,CAFD,MAEO;MACL,MAAMI,kBAAkB,GAAGX,uBAAuB,CAACK,WAAD,EAAcC,KAAK,CAACC,gBAAD,CAAnB,CAAlD;;MACA,IAAII,kBAAJ,EAAwB;QACtBN,WAAW,GAAGM,kBAAd;MACD;IACF;EACF;;EAED,OAAON,WAAP;AACD,CAhBD"},"metadata":{},"sourceType":"script"}